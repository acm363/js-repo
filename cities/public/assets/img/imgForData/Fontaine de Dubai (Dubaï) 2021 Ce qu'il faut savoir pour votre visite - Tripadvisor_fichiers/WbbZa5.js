(this.$WP=this.$WP||[]).push(["WbbZa5",(e,t)=>{"use strict";var a,i,r,n,o,l,d,c,s,u,m,w,C,p,v,h,_,g,P,b,k,f,R,A,E,y,S,W=e=>{switch(e){case"AttractionProductReview":return"AttractionProducts_LocationPhotoAlbum";case"Attraction_Review":return"Attractions_LocationPhotoAlbum";case"Hotel_Review":return"Hotels_LocationPhotoAlbum";case"Restaurant_Review":return"Restaurants_LocationPhotoAlbum";default:return e}},I=()=>{var[{params:{detailId:e=0,geoId:t=0}}]=i.useContext(s),{trackClick:a}=l(),r=`/PostPhotos-g${t}-d${e}`;return i.createElement("div",{className:"_2EafcXU_"},i.createElement("div",{className:"_1fW4CUba"},i.createElement(b,{variant:"title-02"},i.createElement(R,{id:"fusion_media_empty_state_title"}))),i.createElement("div",{className:"_1FPa9whr"},i.createElement(k,{variant:"secondary",href:r,onClick:()=>a({clientContext:"MediaWindow_UploadPhoto"})},i.createElement(R,{id:"sng_upload_a_photo"}))))},x=()=>{var e=A(),t=(null==e?void 0:e.MAIN_H1)||null,[{params:{detailId:a=0,geoId:r=0}}]=i.useContext(s),{trackClick:n}=l(),o=`/PostPhotos-g${r}-d${a}`,d=`/UserReview-g${r}-d${a}`;return i.createElement("div",{className:"_1bkSobGU"},i.createElement(b,{variant:"title-05"},i.createElement(R,{id:"seo_empty_photo_prompt",args:{0:t}}),i.createElement("span",{className:"_1a3ivafn"},i.createElement(f,{variant:"primary",href:o,onClick:()=>n({clientContext:"MediaWindow_GeoPhotoUpload"})},i.createElement(R,{id:"sng_upload_a_photo"})),i.createElement(f,{variant:"primary",href:d,onClick:()=>n({clientContext:"MediaWindow_GeoUserReview"}),marginLeft:"spacing-03"},i.createElement(R,{id:"hr_write_a_review"})))))},H={Hotel_Review:101,Restaurant_Review:101,Attraction_Review:-160,AttractionProductReview:-150},M={mediaWindowRows:{mobile:0,desktop:1},mediaWindowParams:{client:"un"},mediaViewerParams:{}},O={Hotel_Review:{mediaWindowParams:{client:"hr",showAlbumPane:!0}},Restaurant_Review:{mediaWindowParams:{client:"r"}},Attraction_Review:{mediaWindowParams:{client:"a",configuration:"ar",showAlbumPane:!1},mediaViewerParams:{queryClientOverride:"a",heroDataStrategyOverride:"ar",pageDataStrategyOverride:"ar",hideHeaderControls:!0,hideMASQuickAlbums:!0}},AttractionProductReview:{mediaWindowRows:{mobile:0,desktop:0},mediaWindowParams:{client:"a",showAlbumPane:!1,configuration:"apd"},mediaViewerParams:{queryClientOverride:"a",heroDataStrategyOverride:"apd",pageDataStrategyOverride:"apd",quickAlbumsConfiguration:"apdap",hideHeaderControls:!0}},AttractionProductReviewTest:{mediaWindowRows:{mobile:0,desktop:1},mediaWindowParams:{client:"a",showAlbumPane:!1,configuration:"apd"},mediaViewerParams:{queryClientOverride:"a",heroDataStrategyOverride:"apd",pageDataStrategyOverride:"apd",quickAlbumsConfiguration:"apdap",hideHeaderControls:!0}}},D=({model:e})=>{var{viewportCategory:t}=a.useContext(u),i="MOBILE"===t,[d]=a.useContext(s),b=d.params.detailId||0,k=a.useCallback((()=>d.path),[d]),f=String(d.page),R=H[f],A=h("TTD-22882"),S="AttractionProductReview"===f&&A?"AttractionProductReviewTest":f,I=Object.assign({},M,{},O[S]),x=I.mediaWindowRows[i?"mobile":"desktop"]||0,[D,U]=a.useState(null),{trackClick:q}=l(),{actionHandler:N}=_(),T=a.useCallback(((e,t)=>{q({clientContext:e,clientParameter:t})}),[q]),V=a.useMemo((()=>{var t,a=null==e||null==(t=e.heroStandardContent)?void 0:t[0];return"AppPresentation_BasicPhotoUpload"===(null==a?void 0:a.__typename)?null:c(a)}),[e]),F=w(V,1200,1200);m({image:F});var $=a.useCallback((e=>{q({clientContext:"MediaWindow_HeroPhoto"}),U({mediaId:e,albumId:R})}),[R,q]),L=a.useCallback((e=>{q({clientContext:"MediaWindow_ThumbnailPhoto"})}),[q]),B=a.useCallback((e=>{switch(e.type){case v.albumSelect:q({clientContext:"MediaWindow_AlbumSelect"}),U({albumId:e.albumId});break;case v.photoCountClick:q({clientContext:"MediaWindow_PhotoCountClick"}),U({albumId:R});break;case v.arrowClick:case v.photoSwipe:q({clientContext:"MediaWindow_HeroPhotoSwipe"})}}),[R,q]),G=r(0),[j,K]=n(0),Q=()=>{G.current=0,K((e=>e+1))},Y=a.useCallback((e=>{switch(N(e),e.type){case g.albumSelect:case g.fullscreenClose:Q();break;case g.galleryItemClicked:e.selectedIndex>=0&&Q();break;case g.fullscreenNav:G.current++,5===G.current&&Q()}}),[N]),X=a.useCallback((()=>{q({clientContext:"MediaViewer_Close"}),U(null)}),[q]),Z=a.useCallback((({children:e})=>a.createElement("div",{className:"_2efUwtQa"},e)),[]);return a.createElement("div",{className:"_1Dv49V0y"},a.createElement(p,Object.assign({locationId:b,actionHandler:B,onHeroClick:$,onThumbnailClick:L,numRows:x,hideIndicatorDots:!1,overlay:i?"countOnly":"visible"},I.mediaWindowParams,{Wrapper:Z,noContent:a.createElement(E,null),thinGeoContent:a.createElement(y,null),showCta:!0})),!i&&a.createElement(o,{locationId:b}),a.createElement(C,Object.assign({locationId:b,initialSettings:D,onClose:X,routeFragmentIdentifier:"atf",leftRailSlot:()=>a.createElement(P,{refreshKey:j.toString(),pageTypeTargeting:W(f)}),actionHandler:Y,getShareUrlForMedia:k,trackingCallback:T},I.mediaViewerParams)))};return[()=>{E=i.memo(I),y=i.memo(x),S=d(D),e({PoiHeroStandard:S,defaultAlbumIds:H,defaultMediaSettings:M,pageMediaSettings:O})},[e=>(a=e,i=e.default,r=e.useRef,n=e.useState),e=>o=e.default,e=>(l=e.useTracking,d=e.FusionComponent),e=>c=e.getImageSource,e=>(s=e.Route,u=e.Device),e=>m=e.usePageContentAnnotations,e=>w=e.useImageSource,e=>C=e.default,e=>(p=e.default,v=e.mwActions),e=>h=e.showFeature,e=>_=e.default,e=>g=e.actions,e=>P=e.default,e=>b=e.default,e=>(k=e.default,f=e.BorderlessButtonLink),e=>R=e.default,e=>A=e.default]]},["cDcdfi","mFO3FK","PEYes_","W9678C","2R4xv2","ylqI3R","BgJkqv","_azji4","elqEsp","DY6uxn","XYs9im","wc54S1","PdP2Fm","VP50Wc","7yGKf-","0DsHEV","QZqymc"]]);
